"use strict";angular.module("duvsCryApp",["ngCookies","ngResource","ngSanitize","ngRoute","LocalStorageModule"]).config(["localStorageServiceProvider",function(a){a.setPrefix("ls")}]).config(function(a){a.when("/quiz/:questionId?",{templateUrl:"views/quiz.html",controller:"QuizCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/score",{templateUrl:"views/score.html",controller:"ScoreCtrl"}).when("/dictionary",{templateUrl:"views/dictionary.html",controller:"DictionaryCtrl"}).when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}).factory("QuizQuestions",function(){return[{term:"DAU",answers:{a:"Daily Active Users",b:"wrong",c:"wrong",d:"wrong"},answer:"a"},{term:"MAU",answers:{a:"wrong",b:"wrong",c:"Monthly Active Users",d:"wrong"},answer:"c"},{term:"Reach",answers:{a:"wrong",b:"wrong",c:"wrong",d:"Monthly Reach"},answer:"d"},{term:"DUV (doves)",answers:{a:"Daily Unique Viewers",b:"wrong",c:"wrong",d:"wrong"},answer:"a"},{term:"MUV",answers:{a:"wrong",b:"Monthly Unique Viewers",c:"wrong",d:"wrong"},answer:"b"},{term:"DUC (ducks)",answers:{a:"wrong",b:"Daily Unique Converters",c:"wrong",d:"wrong"},answer:"b"},{term:"MUC",answers:{a:"Monthly Unique Converters",b:"wrong",c:"wrong",d:"wrong"},answer:"a"},{term:"OW",answers:{a:"wrong",b:"wrong",c:"wrong",d:"Offerwall"},answer:"d"},{term:"Featured",answers:{a:"Featured Ads",b:"wrong",c:"wrong",d:"wrong"},answer:"a"},{term:"Display",answers:{a:"Display Ads",b:"wrong",c:"wrong",d:"wrong"},answer:"a"},{term:"TJC",answers:{a:"wrong",b:"wrong",c:"Tapjoy.com",d:"wrong"},answer:"c"},{term:"CPI (PPI)",answers:{a:"wrong",b:"Cost per Install",c:"wrong",d:"wrong"},answer:"b"},{term:"CPE (PPE)",answers:{a:"wrong",b:"wrong",c:"wrong",d:"Cost per Engagement"},answer:"d"},{term:"CPA",answers:{a:"Cost per Action",b:"wrong",c:"wrong",d:"wrong"},answer:"a"},{term:"CPV",answers:{a:"wrong",b:"Cost per View",c:"wrong",d:"wrong"},answer:"b"},{term:"CPC",answers:{a:"Cost per Click",b:"wrong",c:"wrong",d:"wrong"},answer:"a"},{term:"Impression",answers:{a:"wrong",b:"wrong",c:"Ad Impression",d:"wrong"},answer:"c"},{term:"OWO",answers:{a:"wrong",b:"wrong",c:"wrong",d:"Offerwall Open"},answer:"d"},{term:"OWO Rate",answers:{a:"Offerwall Open Rate",b:"wrong",c:"wrong",d:"wrong"},answer:"a"},{term:"Rank",answers:{a:"Offerwall Rank",b:"wrong",c:"wrong",d:"wrong"},answer:"a"},{term:"Click",answers:{a:"wrong",b:"wrong",c:"Click",d:"wrong"},answer:"c"},{term:"Convs",answers:{a:"Conversion",b:"wrong",c:"wrong",d:"wrong"},answer:"a"},{term:"CTR",answers:{a:"wrong",b:"wrong",c:"wrong",d:"Click Through Rate"},answer:"d"},{term:"CVR",answers:{a:"Conversion Rate",b:"wrong",c:"wrong",d:"wrong"},answer:"a"},{term:"ACR",answers:{a:"wrong",b:"Action Conversion Rate",c:"wrong",d:"wrong"},answer:"b"},{term:"Spend",answers:{a:"wrong",b:"wrong",c:"Ad Spend",d:"wrong"},answer:"c"},{term:"Earnings",answers:{a:"wrong",b:"Publisher Earnings",c:"wrong",d:"wrong"},answer:"b"},{term:"GR",answers:{a:"wrong",b:"wrong",c:"wrong",d:"Gross Revenue"},answer:"d"},{term:"TJR",answers:{a:"wrong",b:"wrong",c:"wrong",d:"Tapjoy Revenue"},answer:"d"},{term:"eCPM",answers:{a:"Effective Cost per Thousand Impressions",b:"wrong",c:"wrong",d:"wrong"},answer:"a"},{term:"eCPM OW",answers:{a:"wrong",b:"wrong",c:"Effective Cost per Thousand Opens",d:"wrong"},answer:"c"},{term:"UDID",answers:{a:"Device id",b:"wrong",c:"wrong",d:"wrong"},answer:"a"},{term:"ARPC",answers:{a:"wrong",b:"wrong",c:"wrong",d:"Avg Revenue Per Conversion"},answer:"d"},{term:"ARPU",answers:{a:"wrong",b:"wrong",c:"Avg Revenue Per User",d:"wrong"},answer:"c"},{term:"ARPPU",answers:{a:"wrong",b:"Avg Revenue Per Paying User",c:"wrong",d:"wrong"},answer:"b"},{term:"ARPDAU",answers:{a:"wrong",b:"wrong",c:"wrong",d:"Avg Revenue Per Daily Active User"},answer:"d"},{term:"Show Rate",answers:{a:"Offer Show Rate",b:"wrong",c:"wrong",d:"wrong"},answer:"a"},{term:"Country",answers:{a:"wrong",b:"wrong",c:"Country of User",d:"wrong"},answer:"c"}]}),angular.module("duvsCryApp").controller("MainCtrl",["$scope","localStorageService","$location",function(a,b,c){a.navPage="root",a.user=b.get("email")||"",a.updateUser=function(){b.set("email",a.user)},a.startQuiz=function(){c.path("/quiz")}}]),angular.module("duvsCryApp").controller("QuizCtrl",["$scope","localStorageService","$routeParams","$route","$location","QuizQuestions",function(a,b,c,d,e,f){a.navPage="quiz",a.bootstrap=function(){a.user=b.get("email")||"",a.questionId=c.questionId||0,a.userAnswers=b.get("userAnswers")||[],a.currentAnswer="",a.questions=f},a.bootstrap(),a.next=function(){a.logAnswer();var b=a.questionId+1;b<a.questions.length?(a.questionId=b,a.currentAnswer="",jQuery(".progress-bar").progressbar({display_text:"fill"}),jQuery(".submit button.btn").blur()):e.path("/score")},a.getPercentage=function(){return((a.questionId+1)/a.questions.length*100).toFixed(2)},a.logAnswer=function(){a.userAnswers[a.questionId]=a.currentAnswer,b.set("userAnswers",JSON.stringify(a.userAnswers))}}]),angular.module("duvsCryApp").controller("ScoreCtrl",["$scope","localStorageService","$routeParams","$route","$location","QuizQuestions",function(a,b,c,d,e,f){a.questions=f,a.getAnswerKey=function(){return _.pluck(a.questions,"answer")},a.allAnswered=function(){return a.getAnswerKey().length==b.get("userAnswers").length},a.getUserAnswers=function(){return b.get("userAnswers")||[]},a.gradeQuiz=function(){var b,c;return a.allAnswered()?(a.graded=[],b=a.getAnswerKey(),c=a.getUserAnswers(),_.each(b,function(d,e){a.graded[e]=b[e]==c[e]})):console.log("WEIRD QUIZ ABORT"),a.graded},a.gradeQuiz(),a.generateStatsBasedOnGradedQuiz=function(){var b=a.gradeQuiz(),c=_.reject(b,function(a){return!a}).length,d=_.reject(b,function(a){return a}).length,e=b.length,f=parseInt(c/e*100);return{right:c,wrong:d,total:e,percentage:f}},a.isAnswerCorrect=function(a){return f[a].answer==b.get("userAnswers")[a]},a.getUserAnsweredTerm=function(a){return f[a].answers[b.get("userAnswers")[a]]},a.getCorrectAnsweredText=function(a){var b=f[a].answer;return f[a].answers[b]},a.getQuizResults=function(){var b=[];return _.each(f,function(c,d){b.push({correct:a.isAnswerCorrect(d),term:f[d].term,userAnswer:a.getUserAnsweredTerm(d),correctAnswer:a.getCorrectAnsweredText(d)})}),b},a.quizResults=a.getQuizResults(),a.getPreviousScore=function(){var a=b.get("previousScore");return 0>a?0:a},a.getCurrentHighScore=function(){var a=b.get("highScore");return 0>a?0:a},a.recordHighScore=function(){var c=a.results.percentage,d=a.getCurrentHighScore(),e=c>d?c:d;b.set("highScore",e)},a.recordPreviousScore=function(){b.set("previousScore",a.results.percentage)},a.prepareQuizForRetake=function(){a.recordPreviousScore(),b.set("userAnswers",[]),e.path("/quiz")},a.showDictionary=function(){e.path("/dictionary")},a.bootstrap=function(){a.user=b.get("email")||"",a.results=a.generateStatsBasedOnGradedQuiz(),a.recordHighScore(),a.highScore=a.getCurrentHighScore(),a.previousScore=a.getPreviousScore()},a.bootstrap()}]),angular.module("duvsCryApp").controller("AboutCtrl",["$scope","localStorageService","$location",function(a,b,c){a.navPage="about",a.takeQuiz=function(){b.set("userAnswers",[]),c.path("/quiz")}}]),angular.module("duvsCryApp").controller("DictionaryCtrl",["$scope","localStorageService","$routeParams","$route","$location","QuizQuestions",function(a,b,c,d,e,f){a.navPage="dictionary",a.questions=f,a.finishedStudying=function(){b.set("userAnswers",[]),e.path("/quiz")},a.bootstrap=function(){b.set("userAnswers",[])},a.bootstrap()}]);